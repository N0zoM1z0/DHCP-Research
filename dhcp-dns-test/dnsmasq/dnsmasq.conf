# 基础配置
interface=eth0
log-queries
log-dhcp
log-facility=/var/log/dnsmasq.log

# 指定上游DNS服务器，确保容器能访问外网（例如安装软件）
server=8.8.8.8
server=1.1.1.1

# --- 逻辑冲突配置 (已更新为隔离网段) ---

# 1. 静态DNS条目：规定 bank.com 的IP是 8.8.8.8
address=/bank.com/8.8.8.8

# 2. DHCP静态租约：给MAC地址为 02:42:ac:14:00:03 的客户端(client-a)
#    分配IP 10.10.0.50，并把它的主机名也定义为 bank.com！
dhcp-host=02:42:ac:14:00:03,bank.com,10.10.0.50,12h

# --- 逻辑冲突配置结束 ---

# 为其他普通客户端(client-b)提供一个动态IP池
dhcp-range=10.10.0.100,10.10.0.200,12h
dhcp-option=option:router,10.10.0.1 # 网关是docker自己创建的 .1 地址
dhcp-option=option:dns-server,10.10.0.2 # DNS服务器指向自己
